!function(X){"use strict";X.fn.fusionImageCompare=function(){return this.each(function(){function i(e){var t=l.width(),i=l.height();return{w:t+"px",h:i+"px",cw:e*t+"px",ch:e*i+"px"}}function o(e){"vertical"===f?(l.css("clip","rect(0,"+e.w+","+e.ch+",0)"),v.css("clip","rect("+e.ch+","+e.w+","+e.h+",0)")):(l.css("clip","rect(0,"+e.cw+","+e.h+",0)"),v.css("clip","rect(0,"+e.w+","+e.h+","+e.cw+")")),r.css("height",e.h),p.addClass("visible")}function t(e){var t=i(e);m.css("vertical"===f?"top":"left","vertical"===f?t.ch:t.cw),o(t)}function a(e,t){return function(e,t,i){return Math.max(t,Math.min(i,e))}("vertical"===f?(t-w)/C:(e-g)/b,0,1)}function e(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&"vertical"!==f?e.preventDefault():(e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&"vertical"===f&&e.preventDefault(),r.addClass("active"),g=r.offset().left,w=r.offset().top,b=l.width(),C=l.height()}function n(e){r.hasClass("active")&&(c=a(e.pageX,e.pageY),t(c))}function s(){r.removeClass("active")}var r=X(this),c=void 0!==X(this).data("offset")?X(this).data("offset"):.5,f=void 0!==X(this).data("orientation")?X(this).data("orientation"):"horizontal",u=void 0!==X(this).data("move-slider-on-hover")&&X(this).data("move-slider-on-hover"),d=void 0===X(this).data("move-with-handle-only")||X(this).data("move-with-handle-only"),h=void 0!==X(this).data("click-to-move")&&X(this).data("click-to-move"),l=r.find("img:first"),v=r.find("img:last"),m=r.find(".fusion-image-before-after-handle"),p=X(".before-after-label-out-image-up-down"),g=0,w=0,b=0,C=0,y="";X(window).on("resize.fusion-image-before-after",function(){t(c)}),(y=d?r:m).on("movestart",e),y.on("move",n),y.on("moveend",s),u&&(r.on("mouseenter",e),r.on("mousemove",n),r.on("mouseleave",s)),m.on("touchmove",function(e){e.preventDefault()}),r.find("img").on("mousedown",function(e){e.preventDefault()}),h&&r.on("click",function(e){var t;g=r.offset().left,w=r.offset().top,b=l.width(),C=l.height(),c=a(e.pageX,e.pageY),t=i(c),r.addClass("active"),"vertical"===f?m.stop(!0,!0).animate({top:t.ch},{queue:!1,duration:300,easing:"easeOutCubic",step:function(e){var t=i(e/C);o(t)},complete:function(){r.removeClass("active")}}):m.stop(!0,!0).animate({left:t.cw},{queue:!1,duration:300,easing:"easeOutCubic",step:function(e){var t=i(e/b);o(t)},complete:function(){r.removeClass("active")}})}),X(window).trigger("resize.fusion-image-before-after")})}}(jQuery),jQuery(window).load(function(){jQuery(".fusion-image-before-after").fusionImageCompare()}),jQuery(document).on("fusion-element-render-fusion_image_before_after fusion-column-resized",function(e,t){jQuery('div[data-cid="'+t+'"]').find(".fusion-image-before-after").each(function(){jQuery.cleanData(jQuery(this))}),jQuery('div[data-cid="'+t+'"]').find(".fusion-image-before-after").fusionImageCompare()});